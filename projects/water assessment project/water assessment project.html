<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Water Source and Health Issues Data Project</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1, h2 {
            color: #333;
        }
        .container {
             max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        img {
            max-width: 100%;
            height: auto;
        }
        video {
            max-width: 100%;
            height: auto;
            display: none; /* Hide the video initially */
        }
        .section {
            margin-bottom: 40px;
        }
        .section h2 {
            margin-top: 20px;
        }
        p {
            margin-bottom: 20px;
        }
        table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
        }
        td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
        }
        tr:nth-child(even) {
        background-color: #dddddd;
        }
        .btn-preview {
            background-color: #a4c0de;
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            font-size: 16px;
            cursor: pointer;
        }
        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            padding: 10px 15px;
            background-color: #007BFF;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-family: Arial, sans-serif;
        }
        .back-button:hover {
            background-color: #0056b3;
        }
    </style>
    <script>
      function toggleVideo() {
        var video = document.getElementById("koboVideo");
            if (video.style.display === "none") {
                video.style.display = "block"; // Show the video
            } else {
               video.style.display = "none"; // Hide the video
            }
      }
    </script>
</head>
<body>

    <!-- Back Button -->
    <a href="https://m-gwaza.github.io/projects/" class="back-button">‚Üê Back</a>

<!-- Title Section -->
<div class="container text-white rounded" style="background-color: #14c3f4">
   <h1 class="text-center fs-1" style="font-family: 'Montserrat', sans-serif; color: #f4f4f4; text-align: center;" >Case Study: Monitoring Water Access and Quality in Rural Communities</h1>
</div>

<!-- Overview Section -->
 <div class="container" id="overview">
    <img src="media/overview.png" alt="Project Overview">
    <div class="container">
        <ul style="list-style-type:circle; font-size:90%; text-align: left;">
            <li>
              Leveraged KoboCollect 
              <i class="fas fa-bolt" style="color: rgb(230, 230, 10);"></i> 
              automating 
              <i class="fas fa-bolt" style="color: rgb(230, 230, 10);"></i> 
              data collection about water sources in rural communities, enabling offline data gathering anywhere.
            </li>
            <br>
            <li>
              Developed Power BI interactive dashboards to visualize and analyze collected data in real time, providing critical insights for improving water access and quality in rural communities.
            </li>
          </ul>                  
 </div>

<div class="container" id="showcase">
    <button class="btn-preview" onclick="toggleVideo()">Click here to play video showcasing project</button>
    <video id="koboVideo" controls>
     <source src="media/demo.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>


<div class="container" >

    <!-- Introduction Section -->
    <div class="section" id="introduction">
        <h2>Objective</h2>
        <p>To collect and analyze data on water access and quality in remote areas in real-time, providing local authorities and NGOs with actionable insights to improve water infrastructure and public health outcomes.</p>
        <h2>Problem Statement</h2>
        <p>Rural communities often face challenges with access to clean water. Tracking water availability, quality, and the condition of water sources in these areas is vital for public health and long-term planning, but traditional data collection methods are slow and inefficient. A real-time, scalable solution is needed to improve the monitoring process.</p>
        <p><b>Here are questions I was interested in answering:</b></p>
        <ol>
            <li>What is the primary water source for villagers?</li>
            <li>What is the infrastructure condition of this primary water source?</li>
            <li>Has the water been tested?</li>
            <li>Is it in the right condition for drinking ?</li>
            <li>Have there been any health related issues from the water source?</li>
            <li>How far is the water source to the villagers approximately?</li>
        </ol>
        <p><b>I took the following steps to create my analysis:</b></p>
        <ol>
            <li> Identified the problem statement together with the exact questions needed to be collected
            </li>
            <li>Designed an XLS form formulating the flow how on data would be captured and uploaded it to KoboCollect</li>
            <li>Collected data using the KoboCollect
            </li>
            <li>Got the data into Power BI from KoboToolBox. Used the Power BI Web option specifying the KoboToolBox Form URL and the API </li>
            <li>Cleaned the data in Power BI using Power Query as the data comes in form of a JSON file and few changes are transform it to a table
            </li>
            <li>Reported results using a dashboard whilst creating measures and new columns</li>
        </ol>
        <p><b>Here are my key takeaways:</b></p>
        <ol>
            <li>Most common water source available in Districts are 'Boreholes'
            </li>
            <li>At Least a lot of water sources are near people within communities by 500 Metres </li>
            <li>Unfortunately a lot of water sources that were tested are not okay or not functioning</li>
            <li>As a result people need more water sources as well as proper maintenance of the already existing water sources</li>
            <li>Which in return will reduce health issues of Malaria, Diarrhea and Cholera
            </li>
        </ol>
        <p><b>What actions could be taken from my assessment</b></p>
        <ul>
            <li>To make any impact and help the country, possibly take immediate action starting with the Central Region then Northern Region and finally the Southern Region
            </li>
            <li>Expected available water sources would be Boreholes which either need maintenance or rather ways to assist the communities to make sure the water is safe to drink</li>
            <li>As well as make sure the water sources are clean + have growing vegetation/bush around the sources cut to reduce accumulation of Mosquitoes causing Malaria
            </li>
        </ul>
        <h2>Implementation Plan</h2>
        <ol type="1">
          <li>XLS Form Designing</li>
          <li>KoboCollect</li>
          <li>Power BI Dashboarding</li>
        </ol>
    </div>
  
    <!-- XLS Form Designing Section -->
    <div class="section" id="xls-form">
        <h2>1. XLS Form Designing</h2>
        <p>The XLS form was carefully designed to include advanced logic, validation checks, and skip patterns to ensure accurate data collection. This process allowed us to ensure that only the necessary fields were filled, and validation helped reduce errors in data collection.</p>
        <p>To see the XLS file, <a href="media/XLS Form.xlsx" target="_blank">download here</a>.</p>
        <p><b>Note: </b> The XLS Form has 3 sections (survey, choices and settings) with a structure and variables easier to follow on survey tab, a number of selections on choices tab, and the form metadata on settings hence was not documented on how it was created</p>
    </div>

    <!-- KoboCollect Section -->
    <div class="section" id="kobo-collect">
        <h2>2. KoboCollect</h2>
        <p>Data was collected in real-time using the KoboCollect app, with immediate syncing of data for monitoring on an Open-source platform called KoboToolBox. This enabled us to capture the water sources' condition and health issues as they were reported in the field.</p>
    </div>

    <!-- Power BI Dashboarding Section -->
    <div class="section" id="power-bi">
        <h2>3. Power BI Dashboarding</h2>
        <p>The collected data was analyzed and visualized using Power BI, allowing for detailed insights into water source conditions and reported health issues across regions. This dashboard provided a clear overview of the situation and helped identify areas needing immediate attention.</p> 
        <p>To see the file report, <a href="media/Water access and quality assessment v1.pbix" target="_blank">download the pbix here</a>.</p>
        <img src="media/pb1.jpg" alt="Power BI Dashboard - About">
        <img src="media/pb2.jpg" alt="Power BI Dashboard - Overview">
        <img src="media/pb3.jpg" alt="Power BI Dashboard - Detailed reports">
    </div>

    <!-- Power BI Documentation-->
    <div class="section" id="power-bi-documentation">
        <h3>Power BI Model</h3>
        <p>I took the following actions to create the report:</p>
        <h4>a) Loading and Transforming</h4>
        <ul>
            <li>The Data Source from Kobotoolbox gets loaded into Power BI desktop</li>
            <li> In Query Editor, the data undergoes 6 automatic Applied Steps formatting it from JSON into tables</li>
            <ul>
                <li>conversion</li>
                <li>expansion</li>
                <li>splitting</li>
                <li>expanding validation results</li>
                <li>changing data types</li>
            </ul>
            <li>Additional transformations are added to perfect the data</li>
            <ul>
                <li>removing columns</li>
                <li>renaming columns</li>
            </ul>
            <li>Finally, the data source is also renamed from "?format=json" to "table"</li>
        </ul>
        <p>The final renaming columns are:</p>
        <table>
            <tr>
                <th>Source column name</th>
                <th>New column name</th>
            </tr>
            <tr>
                <td>id</td>
                <td>id - kept for identification of the source records </td>
            </tr>
            <tr>
                <td>section_1/district</td>
                <td>district</td>
            </tr>
            <tr>
                <td>section_1/region</td>
                <td>region</td>
            </tr>
            <tr>
                <td>begin_group_XWd56z4Et/type_of_water_source</td>
                <td>type_of_water_source</td>
            </tr>
            <tr>
                <td>begin_group_XWd56z4Et/distance_to_water_source</td>
                <td>distance_to_water_source</td>
            </tr>
            <tr>
                <td>begin_group_g5tzRh4Yk/water_source_condition</td>
                <td>water_source_condition</td>
            </tr>
            <tr>
                <td>begin_group_yukPlpiaB/water_status</td>
                <td>water_status</td>
            </tr>
            <tr>
                <td>begin_group_yukPlpiaB/water_has_tests</td>
                <td>water_has_tests</td>
            </tr>
            <tr>
                <td>begin_group_lN4JK1E2l/health_related_issues_followup</td>
                <td>health_related_issues_followup</td>
            </tr>
            <tr>
                <td>begin_group_7JigyZfOV/water_source_improvements</td>
                <td>water_source_improvements</td>
            </tr>
            <tr>
                <td>begin_group_lN4JK1E2l/primary_water_usage</td>
                <td>primary_water_usage</td>
            </tr>
            <tr>
                <td>_geolocation.0</td>
                <td>latitude</td>
            </tr>
            <tr>
                <td>_geolocation.1</td>
                <td>longitude</td>
            </tr>
        </table>
        <h4> b) Measures and Calculated Columns</h4>
        <p>The following below are Measures added for the Visuals</p>
        <table>
            <tr>
                <th>Chart Title</th>
                <th>Calculation</th>
            </tr>
            <tr>
                <td>Most common water sources</td>
                <td>
                    MAXX(
                        TOPN(1,
                            SUMMARIZE('table', 'table'[type_of_water_source], "CountWaterSource", COUNTROWS('table')),
                            [CountWaterSource],
                            DESC
                        ),
                        'table'[type_of_water_source]
                    )
                </td>
            </tr>
            <tr>
                <td>Most common distance to water source</td>
                <td>
                    CALCULATE(
                        MAXX(
                            TOPN(
                                1,
                                SUMMARIZE(
                                    'table',
                                    'table'[distance_to_water_source],
                                    "CountWaterSourceDistance",
                                    COUNTROWS('table')
                                ),
                                [CountWaterSourceDistance],
                                DESC
                            ),
                            'table'[distance_to_water_source]
                        )
                    )
                </td>
            </tr>
            <tr>
                <td>Percentage of Tested Water Sources "Not-Okay"</td>
                <td>
                    DIVIDE([CountNotOkayWaterSources], [CountTestedWaterSources]) * 100
                </td>
            </tr>
            <tr>
                <td>CountNotOkayWaterSources - measure </td>
                <td>
                    CALCULATE(
                        COUNTROWS('table'),
                        'table'[water_status] = "Not Okay",
                        'table'[water_has_tests] = "yes"
                    )
                </td>
            </tr>
            <tr>
                <td> CountTestedWaterSources - measure </td>
                <td>
                    CALCULATE(
                        COUNTROWS('table'),
                        'table'[water_has_tests] = "yes"
                    )
                </td>
            </tr>
            <tr>
                <td>Percentage of water sources "Not_Functioning</td>
                <td>
                    DIVIDE(
                        COUNTROWS(
                            FILTER(
                                'table',
                                'table'[water_source_condition]  = "non-functional"
                            )
                        ),
                        COUNTROWS('table'),
                        0
                    ) * 100
                </td>
            </tr>
            <tr>
                <td>Geospatial Distribution of Water - Calculated column</td>
                <td>
                    IF(
                        OR(
                            OR(
                                'table'[water_source_condition] = "non-functional",
                                'table'[water_source_condition] = "partial-functional"
                            ),
                            'table'[water_status] = "Not Okay"
                        ),
                        "Not Okay",
                        "Okay"
                    )
                </td>
            </tr>
            <tr>
                <td>Health Issues Count - done for all e.g. for cholera</td>
                <td>
                    CALCULATE(
                        COUNTROWS('table'),
                        CONTAINSSTRING('table'[health_related_issues_followup], "cholera")
                    )
                </td>
            </tr>
            <tr>
                <td>Improvement Suggestions -done for all e.g. for contamination protection</td>
                <td>
                    CALCULATE(
                        COUNTROWS('table'),
                        CONTAINSSTRING('table'[water_source_improvements], "contamination_protection")
                </td>
        </table>
        
    </div>

    <!-- Power BI Report Improvement-->
    <div class="section" id="power-bi-report_improvements">
        <h3>Report Improvements to be made</h3>
        <p>The main issue that is usually associated with a report is <b>performance</b> and this usually happens if the Semantic model is not properly checked for scalability</p>
        <p>This <b>Semantic model</b> is the logical layer containing the transformations, calculations, and relationships between data sources needed to create reports and dashboard</p>
        <p>Luckily, the storage mode used is <b>Import</b> - requiring data to be refreshed to be up-to-date ensuring flexibility and fast performance</p>
        <p>But just incase any issues are encountered, there a couple of ways that could be implemented to check what is wrong </p>
        <p>1) Performance Analyzer</p>
        <ul>
            <li>The Amount of time taken to load the visuals overtime could start taking long</li>
            <li>Some possible causes might be the measures used</li>
            <li>Below is an example of a filter's performance on the visuals</li>
        </ul>
        <img src="media/Performance Analyzer.png" alt="Project Overview">
        <p>2) Power Query</p>
        <ul>
            <li>Power Query was already used to remove unnecessary columns and change data types</li>
            <li>But it also be used to see column details to inspect the data</li>
            <li>A good example is water_status having 47% Empty which needs to be looked into to see if it is wrong or not</li>
        </ul>
        <img src="media/Column Details.png" alt="Project Overview">
        <p>3) Data Studio</p>
        <ul><li>This performance analyzer tool could also be used</li></ul>
        <p><b>NOTE </b></p>
        <p>Another way that could be considered is a way of only pulling data with the needed columns only before loading to avoid repeatitive transformations for each refresh</p>
    </div>


</div>

</body>
</html>
